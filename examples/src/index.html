<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>{$title} - v{$version}</title>
        <link rel="icon" href="../favicon.ico" />
        <meta name="description" content="{$description}" />
        <link rel="stylesheet" type="text/css" href="styles.css" />
        <link rel="stylesheet" type="text/css" href="../vendor/prism/prism.css" />
    </head>
    <body>
        <h3>Open the console <small>[ Ctrl + Shift + I ]</small> to see all messages !</h3>
        {$options} <button>Run</button>
        <pre><code id="source" class="language-javascript"></code></pre>
        <script src="../vendor/es6-promise.auto.min.js?v=4.0.3"></script>
        <script src="../dist/sh.js?v={$version}&amp;b={$build}"></script>
        <script src="../vendor/prism/prism.js"></script>
        {$scripts}
        <script>
            var select = document.querySelector('select');
            var button = document.querySelector('button');
            var source = document.querySelector('#source');

            select.addEventListener('change', function() {
                var example = window[select.value];
                if (example) {
                    var text  = example.toString();
                    var lines = text.split('\n');
                        lines = lines.slice(1, lines.length - 1);
                        text  = lines.join('\n').replace(/\t/gm, '');
                    var html  = Prism.highlight(text, Prism.languages.javascript);
                    source.innerHTML = html;
                }
            }, false);

            button.addEventListener('click', function() {
                var example = window[select.value];
                example && example();
            }, false);
        </script>
    </body>
</html>
